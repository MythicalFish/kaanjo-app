- content_for(:page_title) { "Account" }

- content_for(:header) do
  %i.fa.fa-gear.mr1
  Account settings

.container-narrower.p2.md-p3.lg-p4.bg-white.flex-auto
  = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
    = devise_error_messages!
    .mb3.row
      .col-md-6
        = f.label :first_name
        = f.text_field :first_name
      .col-md-6
        = f.label :last_name
        = f.text_field :last_name
    .mb3
      = f.label :title
      = f.text_field :title
    .mb3
      = f.label :email
      = f.email_field :email
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      .p2.bg-orange.mb3
        Currently waiting confirmation for: #{resource.unconfirmed_email}
    - if resource.webmaster?
      .mb3
        = f.label :website_name
        = f.text_field :website_name
      .mb3
        = f.label :website_url
        = f.text_field :website_url

    - if webmaster?
      .mb3
        = f.label :address1
        = f.text_field :address1
      .mb3
        = f.label :address2
        = f.text_field :address2
      .mb3
        = f.label :city
        = f.text_field :city
      .mb3
        = f.label :postcode
        = f.text_field :postcode
      .mb3
        = f.label :country
        = f.text_field :country
      .mb3
        = f.label :phone
        = f.text_field :phone

      .mb3
        = f.label :password, 'Change password'
        %i (leave blank for no change)
        .row
          .col-md-6
            = f.password_field :password, autocomplete: "off", placeholder: "New password"
          .col-md-6
            = f.password_field :password_confirmation, autocomplete: "off", placeholder: "New password (again)"
    .row
      .col-md-8
        = f.password_field :current_password, autocomplete: "off", placeholder: "Your current password (required)", required:'required'
      .col-md-4
        %button.btn.btn-blue.btn-full{type:'submit'}
          %i.fa.fa-save.mr1
          Update
